<!DOCTYPE html>
<html>
    <head>
        <title>Example OTELite</title>
    </head>
    <body>
        <h1>Example OTELite</h1>
        <button id="cta">Click me</button>
        <script type="module">
            import { initOtelite, recordUserActionSpan } from './otelite-web.js';
    
            initOtelite({
                collectors: [
                    {
                        url: 'http://localhost:3000/'
                    }
                ],
                serviceName: 'My Browser App',
                serviceVersion: '2.3',
                captureResourceSpans: true,
                captureWebVitals: true,
                captureSoftNavigations: true
            });

            document.getElementById('cta').addEventListener('click', () => {
                recordUserActionSpan('Clicked Checkout Button', { button_id: 'cta' });
            });

            document.addEventListener('DOMContentLoaded', function() {
                fetch('http://localhost:2000?some=value');

                const req = new XMLHttpRequest();
                req.addEventListener("load", () => {});
                req.open("GET", "http://www.example.org/example.txt?other=value");
                req.send();
            });
        </script>
    </body>
</html>
